import React, { useEffect, useState } from 'react'
import { Link, useLocation } from 'react-router-dom'
import { useParams } from 'react-router-dom';
import logo from '../assets/logo.png'
import search from '../assets/search.svg'
import HomeBg2 from '../assets/HomeBg2.svg'
import useAppContext from '../AppContext';
import '../components/Home.css'
import HeroImage from '../assets/HeroImage.svg'
//import { Swiper, SwiperSlide } from 'swiper/react';

// Import Swiper styles
{/*import 'swiper/css';
import 'swiper/css/effect-fade';
import 'swiper/css/navigation';
import 'swiper/css/pagination';

import { EffectFade, Autoplay, Navigation, Pagination } from 'swiper/modules';*/}

const Home = () => {

  const location = useLocation();

  const isHomePage = location.pathname === '/';

  const isLoggedIn = sessionStorage.getItem('user');
  const [currentUser, setCurrentUser] = useState(null);

  const { logout, loggedIn, setLoggedIn } = useAppContext();

  console.log(isLoggedIn);

  const { githubusername } = useParams();

  console.log(githubusername);

  const getGithubData = async () => {
    const res = await fetch(`http://localhost:3000/user/${githubusername}`);

    if (res.status === 200) {
      const data = await res.json();
      console.log(data);
      sessionStorage.setItem('user', JSON.stringify(data));
      setLoggedIn(true);
      setCurrentUser(data.displayName);
    }
  }

  useEffect(() => {
    if (githubusername)
      getGithubData();
  }, []);


  const showLoginOption = () => {

    if (isLoggedIn) {
      return (
        // <button type="submit" className='login-container' >
        // <div className="dropdown">
        //   <button className="dropbtn login-container" >{currentUser.}</button>
        //   <div className="dropdown-content">
        <button className="login-container btn" style={{ color: 'red' }} onClick={logout} >
          Logout
        </button>
        //   </div>
        // </div>
      )
    }
    else {
      return (
        <Link type="submit" to="/Login" className="login-container btn" >Login

        </Link>
      )
    }
  }
  return (
    <>
  <header>
    <nav className="header__nav">
      <div className="header__logo">
        <h4 data-aos="fade-down">Source Nest</h4>
        <div className="header__logo-overlay" />
      </div>
      <ul className="header__menu" data-aos="fade-down">
        <li>
          <Link className="signup" to="/Signup">Sign Up</Link>
        </li>
        <li>
          <a href="#about-us">About Us</a>
        </li>
        <li>
          <a href="#projects">Projects</a>
        </li>
        <li>
          <a href="#trending">Trending</a>
        </li>
        <li>
          <img src={search} alt="search" />
        </li>
      </ul>
      <ul className="header__menu-mobile" data-aos="fade-down">
        <li>
          <img src="assets/menu.svg" alt="menu" />
        </li>
      </ul>
    </nav>
  </header>
  <section className="hero" style={{width:'100%'}}>
    <div className="hero-image">
      <h1 style={{marginLeft:'200px', color:'white', fontSize:'50px', marginTop:'50px'}}>Work on <br /></h1>
      <h1 style={{marginLeft:'100px', color:'white', fontSize:'60px', fontWeight:'500'}}>Actual Projects!</h1>
      <img src={HeroImage} alt="hero" data-aos="fade-up" style={{width:'95%', marginLeft:'15px', marginTop:'-150px'}}/>
      <div className="hero-content-info" data-aos="fade-left">
        <h1>Unlock real learning!</h1>
        <p>
          Feel the taste of the most popular Japanese food from anywhere and
          anytime.
        </p>        <div className="hero-content__buttons">
          <link rel="stylesheet" />
          <Link to="/login">
          <button className="hero-content__order-button" style={{marginLeft:'160px'}}>Login</button>
          </Link>
        </div>
      </div>
      <div className="hero-content__testimonial" data-aos="fade-up">
        <div className="hero-content__customer flex-center">
          <h4>
            24<span>k+</span>
          </h4>
          <p>Happy Customers</p>
        </div>
        <div className="hero-content__review">
          <img src="assets/user.png" alt="user" />
          <p>
            "This is the best Japanese food delivery service that ever existed."
          </p>
        </div>
      </div>
    </div>
  </section>
  <section className="about-us" id="about-us">
    <div className="about-us__image">
      <div className="about-us__image-sushi3">
        <img src="assets/sushi-3.png" alt="sushi" data-aos="fade-right" />
      </div>
      <button className="about-us__button">
        Learn More
        <img src="assets/arrow-up-right.svg" alt="learn more" />
      </button>
      <div className="about-us__image-sushi2">
        <img src="assets/sushi-2.png" alt="sushi" data-aos="fade-right" />
      </div>
    </div>
    <div className="about-us__content" data-aos="fade-left">
      <p className="sushi__subtitle">About Us / 私たちに関しては</p>
      <h3 className="sushi__title">
        Our mission is to bring true Japanese flavours to you.
      </h3>
      <p className="sushi__description">
        We will continue to provide the experience of Omotenashi, the Japanese
        mindset of hospitality, with our shopping and dining for our customers.
      </p>
    </div>
  </section>
  <section className="popular-foods" id="projects">
    <h2 className="popular-foods__title" data-aos="flip-up">
      Popular Food / 人気
    </h2>
    <div
      className="popular-foods__filters sushi__hide-scrollbar"
      data-aos="fade-up"
    >
      <button className="popular-foods__filter-btn active">All</button>
      <button className="popular-foods__filter-btn">
        <img src="/assets/sushi-9.png" alt="sushi 9" />
        Sushi
      </button>
      <button className="popular-foods__filter-btn">
        <img src="/assets/sushi-8.png" alt="sushi 8" />
        Ramen
      </button>
      <button className="popular-foods__filter-btn">
        <img src="/assets/sushi-7.png" alt="sushi 7" />
        Udon
      </button>
      <button className="popular-foods__filter-btn">
        <img src="/assets/sushi-6.png" alt="sushi 6" />
        Danggo
      </button>
      <button className="popular-foods__filter-btn">All</button>
    </div>
    <div className="popular-foods__catalogue" data-aos="fade-up">
      <article className="popular-foods__card">
        <img
          className="popular-foods__card-image"
          src="assets/sushi-12.png"
          alt="sushi-12"
        />
        <h4 className="popular-foods__card-title">Chezu Sushi</h4>
        <div className="popular-foods__card-details flex-between">
          <div className="popular-foods__card-rating">
            <img src="assets/star.svg" alt="star" />
            <p>4.9</p>
          </div>
          <p className="popular-foods__card-price">$21.00</p>
        </div>
      </article>
      <article className="popular-foods__card active-card">
        <img
          className="popular-foods__card-image"
          src="assets/sushi-11.png"
          alt="sushi-11"
        />
        <h4 className="popular-foods__card-title">Original Sushi</h4>
        <div className="popular-foods__card-details flex-between">
          <div className="popular-foods__card-rating">
            <img src="assets/star.svg" alt="star" />
            <p>5.0</p>
          </div>
          <p className="popular-foods__card-price">$19.00</p>
        </div>
      </article>
      <article className="popular-foods__card">
        <img
          className="popular-foods__card-image"
          src="assets/sushi-10.png"
          alt="sushi-10"
        />
        <h4 className="popular-foods__card-title">Ramen Legendo</h4>
        <div className="popular-foods__card-details flex-between">
          <div className="popular-foods__card-rating">
            <img src="assets/star.svg" alt="star" />
            <p>4.7</p>
          </div>
          <p className="popular-foods__card-price">$13.00</p>
        </div>
      </article>
    </div>
    <button className="popular-foods__button">
      Explore Food
      <img src="assets/arrow-right.svg" alt="arrow-right" />
    </button>
  </section>
  <section className="trending" id="trending">
    <section className="trending-sushi">
      <div className="trending__content" data-aos="fade-right">
        <p className="sushi__subtitle">What’s Trending / トレンド</p>
        <h3 className="sushi__title">Japanese Sushi</h3>
        <p className="sushi__description">
          Feel the taste of the most delicious Sushi here.
        </p>
        <ul className="trending__list flex-between">
          <li>
            <div className="trending__icon flex-center">
              <img src="assets/check.svg" alt="check" />
            </div>
            <p>Make Sushi</p>
          </li>
          <li>
            <div className="trending__icon flex-center">
              <img src="assets/check.svg" alt="check" />
            </div>
            <p>Oshizushi</p>
          </li>
          <li>
            <div className="trending__icon flex-center">
              <img src="assets/check.svg" alt="check" />
            </div>
            <p>Uramaki Sushi</p>
          </li>
          <li>
            <div className="trending__icon flex-center">
              <img src="assets/check.svg" alt="check" />
            </div>
            <p>Nigiri Sushi</p>
          </li>
          <li>
            <div className="trending__icon flex-center">
              <img src="assets/check.svg" alt="check" />
            </div>
            <p>Temaki Sushi</p>
          </li>
          <li>
            <div className="trending__icon flex-center">
              <img src="assets/check.svg" alt="check" />
            </div>
            <p>Inari Sushi</p>
          </li>
        </ul>
      </div>
      <div className="trending__image flex-center">
        <img src="assets/sushi-5.png" alt="sushi-5" data-aos="fade-left" />
        <div className="trending__arrow trending__arrow-left">
          <img src="assets/arrow-vertical.svg" alt="arrow vertical" />
        </div>
        <div className="trending__arrow trending__arrow-bottom">
          <img src="assets/arrow-horizontal.svg" alt="arrow horizontal" />
        </div>
      </div>
    </section>
    <div className="trending__discover" data-aos="zoom-in">
      <p>Discover</p>
    </div>
    <section className="trending-drinks">
      <div className="trending__image flex-center">
        <img src="assets/sushi-4.png" alt="sushi-4" data-aos="fade-right" />
        <div className="trending__arrow trending__arrow-top">
          <img src="assets/arrow-horizontal.svg" alt="arrow horizontal" />
        </div>
        <div className="trending__arrow trending__arrow-right">
          <img src="assets/arrow-vertical.svg" alt="arrow vertical" />
        </div>
      </div>
      <div className="trending__content" data-aos="fade-left">
        <p className="sushi__subtitle">What’s Trending / トレンド</p>
        <h3 className="sushi__title">Japanese Drinks</h3>
        <p className="sushi__description">
          Feel the taste of the most delicious Japense drinks here.
        </p>
        <ul className="trending__list flex-between">
          <li>
            <div className="trending__icon flex-center">
              <img src="assets/check.svg" alt="check" />
            </div>
            <p>Oruncha</p>
          </li>
          <li>
            <div className="trending__icon flex-center">
              <img src="assets/check.svg" alt="check" />
            </div>
            <p>Sakura Tea</p>
          </li>
          <li>
            <div className="trending__icon flex-center">
              <img src="assets/check.svg" alt="check" />
            </div>
            <p>Aojiru</p>
          </li>
          <li>
            <div className="trending__icon flex-center">
              <img src="assets/check.svg" alt="check" />
            </div>
            <p>Ofukucha</p>
          </li>
          <li>
            <div className="trending__icon flex-center">
              <img src="assets/check.svg" alt="check" />
            </div>
            <p>Kombu-cha</p>
          </li>
          <li>
            <div className="trending__icon flex-center">
              <img src="assets/check.svg" alt="check" />
            </div>
            <p>Mugicha</p>
          </li>
        </ul>
      </div>
    </section>
  </section>
  <section className="subscription flex-center" id="services">
    <h2 data-aos="flip-down">
      Get offers stright <br />
      to your inbox
    </h2>
    <p data-aos="fade-up">Sign up for the Sushiman newsletter</p>
    <div className="subscription__form" data-aos="fade-up">
      <input type="text" placeholder="Enter your email address" />
      <button>Get Started</button>
    </div>
  </section>
  <footer className="footer flex-between">
    <h3 className="footer__logo">
      <span>Sushi</span>man
    </h3>
    <ul className="footer__nav">
      <li>
        <a href="#menu">Menu</a>
      </li>
      <li>
        <a href="#food">Food</a>
      </li>
      <li>
        <a href="#services">Services</a>
      </li>
      <li>
        <a href="#about-us">About Us</a>
      </li>
    </ul>
    <ul className="footer__social">
      <li className="flex-center">
        <img src="assets/facebook.svg" alt="facebook" />
      </li>
      <li className="flex-center">
        <img src="assets/instagram.svg" alt="instagram" />
      </li>
      <li className="flex-center">
        <img src="assets/twitter.svg" alt="twitter" />
      </li>
    </ul>
  </footer>
</>

  )
}

export default Home